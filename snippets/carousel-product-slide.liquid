<div
  class="bless-carousel__card"
  data-product-id="{{ product.id }}"
  data-product-url="{{ product.url }}"
>
  <!-- Image Container with hover swap -->
  <div class="bless-carousel__image-container">
    {% if product.featured_image %}
      <!-- Primary Image -->
      <img
        src="{{ product.featured_image | image_url: width: 600 }}"
        alt="{{ product.title | escape }}"
        width="600"
        height="600"
        class="bless-carousel__image bless-carousel__image--primary"
        data-primary-image
        loading="lazy"
      >
    {% endif %}

    <!-- Secondary Image (shown on hover) -->
    {% if product.images.size > 1 %}
      {% assign second_image = product.images[1] %}
      <img
        src="{{ second_image | image_url: width: 600 }}"
        alt="{{ product.title | escape }}"
        width="600"
        height="600"
        class="bless-carousel__image bless-carousel__image--secondary"
        data-secondary-image
        loading="lazy"
      >
    {% endif %}
  </div>

  <!-- Card Content -->
  <div class="bless-carousel__content">
    <h3 class="bless-carousel__product-title" style="color: white;">
      {{ product.title | escape }}
    </h3>

    {% if product.description != blank %}
      <p class="bless-carousel__product-description" style="color: rgba(255, 255, 255, 0.85);">
        {{ product.description | strip_html | truncatewords: 20 }}
      </p>
    {% endif %}

    <!-- Add to cart button -->
    {%- form 'product', product, class: 'bless-carousel__form', novalidate: 'novalidate' -%}
      {% if product.variants.size > 1 %}
        <label class="bless-carousel__form-label" style="color: rgba(255, 255, 255, 0.9); font-size: 0.85rem;">
          Choose option
        </label>
        <select
          name="id"
          class="bless-carousel__form-select"
          style="background: rgba(255, 255, 255, 0.15); color: white; border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 8px; padding: 0.5rem; width: 100%; margin-bottom: 0.75rem; font-size: 0.9rem;"
        >
          {% for variant in product.variants %}
            <option
              value="{{ variant.id }}"
              {% if variant.id == product.selected_or_first_available_variant.id %}selected{% endif %}
              {% unless variant.available %}disabled{% endunless %}
            >
              {{ variant.title }}
            </option>
          {% endfor %}
        </select>
      {% else %}
        <input
          type="hidden"
          name="id"
          value="{{ product.selected_or_first_available_variant.id }}"
        >
      {% endif %}

      <label class="bless-carousel__form-label" style="color: rgba(255, 255, 255, 0.9); font-size: 0.85rem;">
        Quantity
      </label>
      <input
        type="number"
        name="quantity"
        value="1"
        min="1"
        class="bless-carousel__form-quantity"
        style="background: rgba(255, 255, 255, 0.15); color: white; border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 8px; padding: 0.5rem; width: 100%; margin-bottom: 0.75rem; font-size: 0.9rem; text-align: center;"
      >

      <button
        type="submit"
        class="bless-carousel__link"
        style="color: white; border-color: white;"
      >
        {{ 'products.product.add_to_cart' | t: default: 'Add to cart' }}
      </button>
    {%- endform -%}
  </div>
</div>
